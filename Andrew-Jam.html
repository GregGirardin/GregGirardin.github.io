<!--
{
  "name": "Andrew-Jam",
  "sets": [
    {
      "name": "Set",
      "songs": [
        {
          "name": "Man In The Box",
          "artist": "Alice In Chains",
          "id": "Man_In_The_Box.Alice_In_Chains",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Arcadia",
          "artist": "Goose",
          "id": "Arcadia.Goose",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Got Me Wrong",
          "artist": "Alice In Chains",
          "id": "Got_Me_Wrong.Alice_In_Chains",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Interstate Love Song",
          "artist": "STP",
          "id": "Interstate_Love_Song.STP",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Wet Sand",
          "artist": "Red Hot Chili Peppers",
          "id": "Wet_Sand.Red_Hot_Chili_Peppers",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Santeria",
          "artist": "Sublime",
          "id": "Santeria.Sublime",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Listen To The Music",
          "artist": "Doobie Brothers",
          "id": "Listen_To_The_Music.Doobie_Brothers",
          "css_highlight": false,
          "medley": false
        },
        {
          "name": "Times Like These",
          "artist": "Foo Fighters",
          "id": "Times_Like_These.Foo_Fighters",
          "css_highlight": false,
          "medley": false
        }
      ]
    },
    {
      "name": "Clipboard",
      "songs": []
    }
  ]
}
-->
<!DOCTYPE html><html><head><meta name='viewport' content='width=device-width, initial-scale=1'>
<title>Andrew-Jam</title>

<style type="text/css">
.accordion
{
  border: 2px solid white;
  background-color: #def;
  color: #444;
  padding: 6px;
  text-align: left;
  outline: none;
  font-size: 16px;
  transition: 0.2s;
}

.fixedFont
{
  font-family: monospace;
}

.panel
{
  padding: 0 18px;
  display: none;
  overflow: hidden;
  font-size: 20px;
  background-color: #fee;
  text-align: left;
}

.css_medleyStart
{
  position:relative;
  overflow:hidden;
  background: #ddf;
  clip-path: polygon( 0% 0%, 90% 0, 100% 50%, 90% 100%, 0% 100%, 5% 50% );
}

.css_medleyCont
{
  position:relative;
  overflow:hidden;
  background: #ddf;
  clip-path: polygon( 0 15%, 95% 15%, 95% 85%, 0% 85% );
}

.css_medleyEnd
{
  position:relative;
  overflow:hidden;
  background: #ddf;
  clip-path: polygon( 0% 0%, 95% 0%, 85% 50%, 95% 100%, 0% 100% );
}

.css_highlight
{
  color: #d33;
}

.css_topButtons
{
  background-color: #fdd;
  padding: 10px;
  font-size: 16px;
}

</style>
</head>

<body align="center">
<button class="css_topButtons" id="fontButtonFixed" onclick="fontFixed();">Fixed</button>
<button class="css_topButtons" id="fontButton+" onclick="fontPlus();">Font +</button>
<button class="css_topButtons" id="fontButton-" onclick="fontMinus();">Font -</button>
<button id="fontSizeButton">Size</button>
<button class="css_topButtons" id="verticalButton+" onclick="displayPlus();">Expand</button>
<button class="css_topButtons" id="verticalButton-" onclick="displayMinus();">Shrink</button>
<hr><div class='setname'>Set</div>
<button class='accordion'>1. Man In The Box</button>
<div class='panel'>
I'm the man in the box buried in my shit<br>
Won't you come and save me, save me?<br>
<br>
&nbsp;&nbsp;Feed my eyes, can you sew them shut?<br>
&nbsp;&nbsp;Jesus Christ, deny your maker<br>
&nbsp;&nbsp;He who tries will be wasted<br>
&nbsp;&nbsp;Feed my eyes, now you've sewn them shut<br>
<br>
I'm the dog who gets beat shove my nose in shit<br>
Won't you come and save me, save me?<br>
<br>
Chorus / Solo / Chorus<br>
</div>

<button class='accordion'>2. Arcadia</button>
<div class='panel'>
&nbsp;&nbsp;I stumble every time you do it<br>
&nbsp;&nbsp;Ain't never gonna get used to it<br>
&nbsp;&nbsp;Hanging on a garden rose<br>
&nbsp;&nbsp;Untamed, the way that my love grows<br>
&nbsp;&nbsp;Oh Lord, I didn't see it coming<br>
&nbsp;&nbsp;Arcadia's got me running<br>
&nbsp;&nbsp;Just trying not to lose my breath<br>
&nbsp;&nbsp;'Cause hell, I'm gonna take that step<br>
<br>
And though my pride has gone<br>
Way down the line<br>
I'm just fine<br>
<br>
If my luck is all that I have today<br>
Well, it's no wonder that you found me<br>
Buried underneath my weight<br>
Well, wood stilts and little red pills<br>
May be all that hold me up<br>
But you pulled the blinds<br>
In this room of mine<br>
Just a little bit brighter since you came<br>
<br>
&nbsp;&nbsp;Chorus<br>
<br>
Seep up all the light<br>
From the bottom of the spine<br>
Don't fret, don't hang your head<br>
'Cause I'm just fine<br>
<br>
One day, all that I have to give<br>
Well, it will be sitting at your doorstep<br>
Waiting just to come on in<br>
Well, cold rooms and burning flumes<br>
They have left me<br>
Just a little bit lesser than I am<br>
Than I am, than I am going to be<br>
<br>
&nbsp;&nbsp;Chorus<br>
<br>
Seep up all the light<br>
From the bottom of the spine<br>
Don't fret, don't hang your head<br>
'Cause I'm just fine<br>
<br>
&nbsp;&nbsp;Chorus (a capella)<br>
<br>
</div>

<button class='accordion'>3. Got Me Wrong</button>
<div class='panel'>
<font style='font-family:monospace;'>
I: Ab E F# x4<br>
V: Ab E F# x8<br>
C: D-F-C#-A - Ab-E-F# x2<br>
</font>
&nbsp;&nbsp;&nbsp;D-F-C#-A - E-F#-A x4<br>
&nbsp;&nbsp;&nbsp;F#-A - Ab-E-F# x2<br>
<font style='font-family:monospace;'>
O: Ab E F# x3 Ab<br>
</font>
<br>
Yeah, yeah, it goes away<br>
All of this and more of nothing in my life<br>
No, color clay<br>
Individuality not safe<br>
<br>
&nbsp;&nbsp;As of now, I bet you've got me wrong<br>
&nbsp;&nbsp;So unsure you run from something strong<br>
<br>
I-I can't let go<br>
Threadbare tapestry unwinding slow<br>
Feel a tortured brain<br>
Show your belly like you want me to<br>
<br>
&nbsp;&nbsp;As of now, I bet you got me wrong<br>
&nbsp;&nbsp;So unsure, we reach for something strong<br>
<br>
&nbsp;&nbsp;I haven't felt like this in so long<br>
&nbsp;&nbsp;Wrong<br>
&nbsp;&nbsp;In a sense too far gone from love<br>
&nbsp;&nbsp;That don't last forever<br>
&nbsp;&nbsp;Something's gotta turn out right<br>
<br>
You, sugar taste<br>
Sweetness doesn't often touch my face<br>
Stay if you please<br>
You may not be here when I leave<br>
<br>
&nbsp;&nbsp;As of now, I bet you got me wrong<br>
&nbsp;&nbsp;So unsure, we reach for something strong<br>
<br>
&nbsp;&nbsp;I haven't felt like this in so long<br>
&nbsp;&nbsp;Wrong<br>
&nbsp;&nbsp;In a sense too far gone from love<br>
&nbsp;&nbsp;Strong<br>
<br>
&nbsp;&nbsp;I haven't felt like this in so long<br>
&nbsp;&nbsp;Wrong<br>
&nbsp;&nbsp;In a sense too far gone from love<br>
&nbsp;&nbsp;That don't last forever<br>
&nbsp;&nbsp;Something's gotta turn out right<br>
<br>
</div>

<button class='accordion'>4. Interstate Love Song</button>
<div class='panel'>
Intro<br>
<br>
Riff x 2<br>
<br>
Waiting on a Sunday afternoon<br>
For what I read between the lines, your lies<br>
<br>
Feelin' like a hand in rusted shame<br>
So do you laugh at those who cry? Reply?<br>
<br>
Riff x 1<br>
<br>
&nbsp;&nbsp;Leavin' on a southern train only yesterday you lied,<br>
&nbsp;&nbsp;Promises of what I seemed to be<br>
&nbsp;&nbsp;Only watched the time go by all of these things you said to me<br>
<br>
Riff x 2<br>
<br>
Breathin' is the hardest thing to do<br>
With all I've said and all that's dead for you, you lied, Good bye<br>
<br>
&nbsp;&nbsp;Leavin' on a southern train only yesterday you lied,<br>
&nbsp;&nbsp;Promises of what I seemed to be<br>
&nbsp;&nbsp;Only watched the time go by all of these things I said to you<br>
<br>
</div>

<button class='accordion'>5. Wet Sand</button>
<div class='panel'>
<font style='font-family:monospace;'>
I: G D Em Bm<br>
V: G D Em Bm<br>
</font>
Pre-C: Em-G-D-Em x3 - Em G D<br>
<font style='font-family:monospace;'>
C: E C E<br>
B: E-F#-G#m x2 - E-F#-G#m-F#-E-D# - E-F#-G#m x2 - E-F#-G#m-F#-E<br>
O: E-F#-G#m x2 - E-F#-G#m-F#-G#m<br>
</font>
&nbsp;&nbsp;&nbsp;G#m-D#m-EM7 x2 - G#m-D#m-EM7-D#m-G#m<br>
&nbsp;&nbsp;&nbsp;G#m-D#m-EM7 x2 - G#m-D#m-EM7-D#m-G#m<br>
<br>
My shadow side so amplified<br>
Keeps coming back dissatisfied<br>
Elementary son but it's so<br>
My love affair with everywhere<br>
Was innocent why do you care?<br>
Someone start the car, time to go<br>
<br>
You're the best I know<br>
<br>
My sunny side has up and died<br>
I'm betting that when we collide<br>
The universe will shift into a low<br>
The travesties that we have seen<br>
Are treating me like Benzedrine<br>
Automatic laughter from a pro<br>
<br>
My what a good day for a walk outside<br>
I'd like to get to know you a little better, baby<br>
God knows that I really tried<br>
My what a good day for a take out bride<br>
I'd like to say we did it for the better of<br>
<br>
I saw you there so unaware<br>
Those hummingbirds all in your hair<br>
Elementary son but it's so<br>
The disrepair of Norma Jean<br>
Could not compare to your routine<br>
Balarama beauty going toe to toe<br>
<br>
My what a good day for a let it slide<br>
I'd like to say we did it for the better of<br>
<br>
I thought about it<br>
And I brought it out<br>
I'm motivated by the lack of doubt<br>
I'm consecrated but I'm not devout<br>
The mother, the father, the daughter<br>
<br>
Right on the verge, just one more dose<br>
I'm travelling from coast to coast<br>
My theory isn't perfect but it's close<br>
I'm almost there, why should I care?<br>
My heart is hurting when I share<br>
Someone open up, let it show<br>
<br>
My what a good day for a walk outside<br>
I'd like to think we did it for the better of<br>
<br>
I thought about it and I brought it out<br>
I'm motivated by the lack of doubt<br>
I'm consecrated but I'm not devout<br>
The mother, the father, the daughter<br>
<br>
Oh you don't form in the wet sand<br>
You don't form at all<br>
Oh, you don't form in the wet sand<br>
I do<br>
Yeah<br>
<br>
You don't form in the wet sand<br>
You don't form at all<br>
Oh, you don't form in the wet sand<br>
I do<br>
Yeah<br>
<br>
</div>

<button class='accordion'>6. Santeria</button>
<div class='panel'>
I don't practice Santeria I ain't got no crystal ball<br>
Well, I had a million dollars but I, I'd spent it all<br>
If I could find that Heina snd that Sancho that she's found<br>
Well, I'd pop a cap in Sancho snd I'd slap her down<br>
<br>
&nbsp;&nbsp;What I really wanna know baby, mhmm<br>
&nbsp;&nbsp;What I really wanna say I can't define<br>
&nbsp;&nbsp;Well it's love that I need, oh<br>
&nbsp;&nbsp;My soul will have to<br>
<br>
Wait till I get back to find a Heina of my own<br>
Daddy's gonna love one and all<br>
I feel the break feel the break, feel the break<br>
And I got live it up Oh, yeah, huh, well I swear that I<br>
<br>
&nbsp;&nbsp;Chorus<br>
<br>
&nbsp;&nbsp;&nbsp;Solo<br>
<br>
&nbsp;&nbsp;Ooooh, what I really wanna say Ah, baby<br>
&nbsp;&nbsp;What I really wanna say is I've got mine<br>
&nbsp;&nbsp;And I'll make it oh yes I'm coming up<br>
&nbsp;&nbsp;Tell Sanchito that if<br>
<br>
He knows what is good for him he best go run and hide<br>
Daddy's got a new Forty-Five<br>
And I won't think twice to stick that barrel straight down Sancho's throat<br>
Believe me when I say that I got somethin' for his punk ass<br>
<br>
&nbsp;&nbsp;What I really wanna know Ah, baby<br>
&nbsp;&nbsp;Ooh, what I really wanna say is there's just one<br>
&nbsp;&nbsp;Way back, and I'll make it, yeah my soul will have to wait<br>
<br>
&nbsp;&nbsp;Yeah, yeah, yeah<br>
</div>

<button class='accordion'>7. Listen To The Music</button>
<div class='panel'>
Don't you feel it growin' day by day?<br>
People gettin' ready for the news<br>
Some are happy, some are sad<br>
Oh, we got to let the music play, mm-hm<br>
<br>
What the people need is way to make 'em smile<br>
It ain't so hard to do if you know how<br>
Gotta get a message, get it on through<br>
Oh, now mama don't you ask me why<br>
<br>
&nbsp;&nbsp;Whoa-oh-whoa, listen to the music<br>
&nbsp;&nbsp;Whoa-oh-whoa, listen to the music<br>
&nbsp;&nbsp;Whoa-oh-whoa, listen to the music<br>
&nbsp;&nbsp;All the time<br>
<br>
Well, I know, you know better, everything I say<br>
Meet me in my country for a day<br>
We'll be happy, and we'll dance<br>
Oh, we're gonna dance our blues away<br>
<br>
And if I'm feelin' good to you<br>
And you're feelin' good to me<br>
There ain't nothin' we can't do or say<br>
Feelin' good, feeling fine, oh baby, let the music play<br>
<br>
&nbsp;&nbsp;Chorus<br>
<br>
Like a lazy flowing river<br>
Surrounding castles in the sky<br>
And the crowd is growing bigger<br>
Listenin' for the happy sounds and I have to let them fly<br>
<br>
&nbsp;&nbsp;Chorus x2<br>
<br>
</div>

<button class='accordion'>8. Times Like These</button>
<div class='panel'>
I, I'm a one-way motorway<br>
I'm a road that drives away, then follows you back home<br>
I, I'm a streetlight shining<br>
I'm a wild light, blinding bright, burnin' off and on<br>
Ah-ah-ah<br>
<br>
&nbsp;&nbsp;It's times like these you learn to live again<br>
&nbsp;&nbsp;It's times like these you give and give again<br>
&nbsp;&nbsp;It's times like these you learn to love again<br>
&nbsp;&nbsp;It's times like these time and time again<br>
<br>
I, I'm a new day rising<br>
I'm a brand-new sky to hang the stars upon tonight<br>
I, I'm a little divided<br>
Do I stay or run away and leave it all behind?<br>
Ah-ah-ah<br>
<br>
&nbsp;&nbsp;Chorus<br>
<br>
Ah-ah-ah<br>
Ah-ah<br>
Ah-ah-ah<br>
<br>
&nbsp;&nbsp;Chorus x3<br>
<br>
</div>


<script>
const minFont = 14
const maxFont = 24;
var fontSize = 16;

var fixed = false;

function fontFixed()
{
  fixed = !fixed;

  var panels = document.getElementsByClassName( "panel" );

  for( var i = 0;i < panels.length;i++ )
    if( fixed )
      panels[ i ].classList.add( "fixedFont" );
    else
      panels[ i ].classList.remove( "fixedFont" );
}

function fontPlus()
{
  fontSize += 2;
  if( fontSize > maxFont )
    fontSize = maxFont;

  setFontProperty( fontSize );
}

function fontMinus()
{
  fontSize -= 2;
  if( fontSize < minFont )
    fontSize = minFont;

  setFontProperty( fontSize );
}

function setFontProperty()
{
  var fontSizeStr = fontSize.toString() + "px";
  var elem = document.getElementById( "fontSizeButton" );
  elem.style.fontSize = fontSizeStr;
  elem.innerHTML = fontSizeStr;

  for( var i = 0;i < acc.length;i++ )
    acc[ i ].nextElementSibling.style.fontSize = fontSizeStr;
}

const DISPLAY_MIN = 0;
const DISPLAY_MED1 = 1;
const DISPLAY_MED2 = 2;
const DISPLAY_LARGE = 3;

var displayFormat = DISPLAY_LARGE;

function displayPlus()
{
  if( displayFormat < DISPLAY_LARGE )
  {
    displayFormat++;
    displaySet( displayFormat );
  }
}

function displayMinus()
{
  if( displayFormat > DISPLAY_MIN )
  {
    displayFormat--;
    displaySet( displayFormat );
  }
}

function closeAll()
{
  // Close all accordions
  for( var i = 0;i < acc.length;i++ )
  {
    acc[ i ].nextElementSibling.style.display = "none"; 
    acc[ i ].classList.remove( "active" );
  }
}

function displaySet( disFormat )
{
  var minWProp;
  var fSize = "16px"; // Font size of song names in accordions
  var slFontSize; // set list font size

  closeAll();

  var clipPath;

  switch( disFormat )
  {
    case DISPLAY_MIN:
      minWProp = "3%";
      fSize = "20px";
      clipPath = "polygon( 0% 0%, 60% 0, 100% 50%, 60% 100%, 0% 100% )";
      break;

    case DISPLAY_MED1:
      minWProp = "9%";
      fSize = "10px";
      clipPath = "polygon( 0% 0%, 70% 0, 100% 50%, 70% 100%, 0% 100% )";
      break;

    case DISPLAY_MED2:
      minWProp = "24%";
      slFontSize = "100%";
      clipPath = "polygon( 0% 0%, 85% 0, 95% 50%, 85% 100%, 0% 100% )";
      break;

    case DISPLAY_LARGE:
      minWProp = "50%";
      slFontSize = "150%";
      clipPath = "polygon( 0% 0%, 85% 0, 95% 50%, 85% 100%, 0% 100% )";
      break;
  }

  var sets = document.getElementsByClassName( "setname" );
  for( var i = 0;i < sets.length;i++ )
    if( slFontSize )
    {
      sets[ i ].style.fontSize = slFontSize;
      sets[ i ].style.display = "block";
    }
    else
      sets[ i ].style.display = "none";

  for( var i = 0;i < acc.length;i++ )
  {
    acc[ i ].style.minWidth = minWProp;

    var strName;
    var prune = songNames[ i ][ 1 ] == '.' ? 0 : 1;
    if( disFormat == DISPLAY_MIN )
      strName = songNames[ i ].substr( 0, 1 + prune );
    else if( disFormat == DISPLAY_MED1 )
      strName = songNames[ i ].substr( 2 + prune, 10 + prune );
    else if( disFormat == DISPLAY_MED2 )
      strName = songNames[ i ].substr( 0, 20 );
    else
      strName = songNames[ i ];

    acc[ i ].innerHTML = strName;
    acc[ i ].style.fontSize = fSize;
    if( acc[ i ].classList.contains( "css_medleyStart" ) )
      acc[ i ].style.clipPath = clipPath;
  }
}

var scrollToElem; 

function expandSongNameByIndex( i )
{
  acc[ i ].innerHTML = songNames[ i ];
  acc[ i ].style.minWidth = "96%";
  acc[ i ].style.fontSize = "16px";
  if( acc[ i ].classList.contains( "css_medleyStart" ) )
    acc[ i ].style.clipPath = "polygon( 0% 0%, 85% 0, 95% 50%, 85% 100%, 0% 100% )";
}

var currentSong = 0;

function accordionClick( elem, keepOpen=false )
{
  currentSong = elem.accIndex;

  var wasOpen = elem.classList.contains( "active" );

  if( wasOpen && ( elem.classList.contains( "css_medleyCont" ) || elem.classList.contains( "css_medleyEnd" ) ) )
  {
    elem.scrollIntoView();
    return;
  }

  closeAll();
  displaySet( displayFormat ); 

  if( !wasOpen || keepOpen )
  {
    scrollToElem = elem;

    // Go to head of medley so we can open the whole thing.
    while( elem.classList.contains( "css_medleyCont" ) || elem.classList.contains( "css_medleyEnd" ) )
      elem = acc[ elem.accIndex - 1 ];

    // Open this one if it was closed before.
    inMedley = elem.classList.contains( "css_medleyStart" );

    while( elem )
    {
      elem.classList.add( "active" );

      // Make the song name visible in the compressed modes. Need to clear this when minimizing in displaySet() above
      expandSongNameByIndex( elem.accIndex );
      if( elem.accIndex < acc.length - 1 )
        expandSongNameByIndex( elem.accIndex + 1 );

      var panel = elem.nextElementSibling;
      setFontProperty(); // w/o this changing the font only applies to the open song. Possibly desirable.
      panel.style.display = "block";
  
      if( inMedley )
      {
        elem = acc[ elem.accIndex + 1 ];
        if( elem.classList.contains( "css_medleyEnd" ) )
          inMedley = false;
      }
      else
        elem = undefined;
    }
    scrollToElem.scrollIntoView();
  }
}

function changeSong( delta )
{
  if( ( ( currentSong == 0 ) && ( delta < 0 ) ) ||
      ( ( currentSong == acc.length ) && ( delta > 0 ) ) )
    return;

  currentSong += delta;

  accordionClick( acc[ currentSong ], true );
}

var acc = document.getElementsByClassName( "accordion" );

songNames = [];

for( var i = 0;i < acc.length;i++ )
{
  songNames[ i ] = acc[ i ].innerHTML;
  acc[ i ].addEventListener( "click", function() { accordionClick( this ); } );
  acc[ i ].nextElementSibling.addEventListener( "click", function() { this.previousElementSibling.scrollIntoView(); } );
  acc[ i ].accIndex = i;
}

displaySet( DISPLAY_LARGE );

// Footswitch stuff for page up/down Font +/-

class FootSwitchButton
{
  constructor( identifier )
  {
    this.buttonID = identifier;
    this.buttonState = false;
    this.holdTimerExpired = false;
  }

  setState( newState )
  {
    if( newState != this.buttonState )
    {
      this.buttonState = newState;

      if( newState ) // true = 'down'
      {
        this.holdTimerExpired = false;
        this.holdTimer = setTimeout( holdTimerCB, 500, this.buttonID );
      }
      else // released. (up)
      {
        if( this.holdTimerExpired )
          this.holdTimerExpired = false;
        else
        {
          clearTimeout( this.holdTimer );
          //this.buttonID == 0 ? console.log( "Song Up" ) : console.log( "Song Down" );
          changeSong( this.buttonID == 0 ? -1 : 1 ); // tap action
        }
      }
    }
  }

  holdTimerCB()
  {
    this.holdTimerExpired = true;
    //this.buttonID == 0 ? console.log( "Font -" ) : console.log( "Font +" );
    this.buttonID == 0 ? fontMinus() : fontPlus();
  }
}

function holdTimerCB( ButtonID )
{
  footSwitchButtons[ ButtonID ].holdTimerCB();
}

var footSwitchButtons = [];
footSwitchButtons[ 0 ] = new FootSwitchButton( 0 );
footSwitchButtons[ 1 ] = new FootSwitchButton( 1 );

function keyHandler( e, state )
{
  var ix;

  switch( e.code )
  {
    case 'ArrowUp':
      ix = 0; break;
    case 'ArrowDown':
      ix = 1; break;

    default:
      return;
  } 

  footSwitchButtons[ ix ].setState( state );
}

document.addEventListener( 'keydown', keyPressedHandler );
document.addEventListener( 'keyup',   keyRelHandler );

function keyPressedHandler( e ) { e.preventDefault();keyHandler( e, true ); } // down / pressed
function keyRelHandler( e ) { e.preventDefault();keyHandler( e, false ); } // up / released

</script> </body> </html>